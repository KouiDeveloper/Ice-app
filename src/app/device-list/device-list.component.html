<div class="container card mt-5" style="background: whitesmoke;">
  <div class="d-flex justify-content-center mt-3">
    <img class="resize-logo" src="../../assets/photo/Logo_replace_three.png" alt="">
  </div>
  <h1 class="text-center mt-4 langlao">
    <u class="mt-5">ລາຍຊື່ຂໍ້ມູນເຄື່ອງທັງໝົດ</u>
  </h1>
  <div class="mt-3">
    <div class="row">
      <div class="col-md-8 offset-md-2 col-12">
        <div class="col-12">
          <div class="input-group">
            <input type="text" class="form-control custom-formcontrol" placeholder="Search" name="search">
            <button class="btn-search" type="submit">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
        <button class="btn btn-primary d-block mx-auto mt-3 d-width langlao" (click)="openVerticallyCentered(content)">
          <i class="far fa-plus-square"></i>
          <br> ເພີ່ມ-Devices</button>
      </div>
    </div>
    
    <!-- Search Table Device -->
    <div class="show-devices">
      <div class="col-md-10 offset-md-1 mt-3">
        <table class="table table-bordered table-striped table-responsive">
          <thead class="thead-dark">
            <tr>
              <th></th>
              <th class="langlao text-uppercase" scope="col">username</th>
              <th class="langlao text-uppercase" scope="col">IMEI</th>
              <th class="langlao text-uppercase" scope="col">active</th>
              <th class="langlao text-uppercase" scope="col">lastupdate</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let d of _currentDevice" (click)="Show_update_details(Alert_update_details,d)" class="bg-list">
              <th>
                <img class="img-resize" [src]="d.photo.length?d.photo[0]:'../../assets/photo/Logo_replace_three.png'" alt="">
              </th>
              <th class="langlao" scope="row">{{d.name}}</th>
              <td class="phone-number">{{d.imei}}</td>
              <td>
                <input type="checkbox" class="form-check-input" checked="u.isactive">
              </td>
              <td>{{d.lastupdate}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>



<!-- Alert add new Device -->
<div class="col-md-4">
  <div class="add-new-devices">
    <ng-template #content let-c="close" let-d="dismiss" id="">
      <div class="modal-header">
        <h4 class="modal-title langlao">ເພີ່ມ Devices</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="">
          <div class="row pb-2">
            <div class="col-12">
              <img src="../../assets/photo/default-user.png" class="img-fluid rounded-circle mx-auto d-block">
            </div>
          </div>
          <div class="d-block justify-content-center">
            <label class="col-md-3 col-xs-3 btn-form-users btn-primary-form-users d-block mx-auto mt-3"> Select photo
              <input type="file" placeholder="file" hidden required>
            </label>
          </div>
          <section id="form-add-users">
            <form>
              <div class="row col-md-10 offset-md-1 font-color-form-users">
                <div class="group-control col-md-6 col-12 mt-4">
                  <label class="langlao mg-name" for="">ຊື່ຕູ້ນ້ຳກ້ອນ *</label>
                  <input class="form-control langlao" type="text" (value)="_newDevice===undefined? '' : _newDevice.name" (input)="_newDevice.name=$event.target.value">
                </div>
                <div class="group-control col-md-6 col-12 mt-4">
                  <label class="langlao mg-name" for="">ເລກ IMEI *</label>
                  <input class="form-control" type="text" (value)="_newDevice===undefined? '' : _newDevice.imei" (input)="_newDevice.imei=$event.target.value">
                </div>
                <div class="group-control col-md-6 col-12 mt-4">
                  <label class="langlao mg-name" for="">ຊື່ຜູ້ໃຊ້ *</label>
                  <input class="form-control langlao" type="text" (value)="_newDevice===undefined? '' : _newDevice.currentownername" (input)="_newDevice.currentownername=$event.target.value">
                </div>
                <div class="group-control col-md-6 col-12 mt-4">
                  <label class="langlao mg-name" for="">ເບີໂທລະສັບ *</label>
                  <input class="form-control" type="text" (value)="_newDevice===undefined? '' : _newDevice.phonenumber" (input)="_newDevice.phonenumber=$event.target.value">
                </div>
                <!-- <div class="group-control col-md-6 col-12 mt-4">
                    <label class="langlao mg-name" for="">Status *</label>
                    <input class="form-control" type="text" (value)="_newDevice===undefined? '' : _newDevice.isactive" (input)="_newDevice.isactive=$event.target.value">
                  </div> -->
                <div class="group-control col-12 mt-4">
                  <label class="langlao mg-name" for="">ໝາຍເຫດ *</label>
                  <input class="form-control langlao" type="text" (value)="_newDevice===undefined? '' : _newDevice.description" (input)="_newDevice.description=$event.target.value">
                </div>
                <div class="group-control col-12 mt-4">
                  <label class="langlao mg-name" for="">Other *</label>
                  <input class="form-control langlao" type="text" (value)="_newDevice===undefined? '' : _newDevice.other" (input)="_newDevice.other=$event.target.value">
                </div>
                <div class="group-control col-12 mt-4 d-flex justify-content-center">
                  <button class="col-md-4 mg-btn col-6 btn btn-primary-form-users langlao" type="submit" (click)='addDevice()'>
                    <i class="far fa-plus-square mr-1"></i>ເພີ່ມ-Device
                  </button>
                  <button class="col-md-4 mg-btn col-6 btn btn-danger-form-users langlao" type="reset">
                    <i class="fas fa-redo mr-1"></i>ຍົກເລີກ</button>
                </div>
              </div>
            </form>
          </section>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="c('Close click')">Close</button>
      </div>
    </ng-template>
  </div>
</div>

<!-- Alert info -->
<div class="info">
  <ng-template #Alert_update_details let-c="close" let-d="dismiss" id="">
    <div class="modal-header">
      <h4 class="modal-title langlao">ແກ້ໄຂຂໍ້ມູນ</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="">
        <div class="row pb-2">
          <div class="col-12">
            <img src="../../assets/photo/default-user.png" class="img-fluid rounded-circle mx-auto d-block">
          </div>
        </div>
        <div class="d-block justify-content-center">
          <label class="col-md-3 col-xs-3 btn-form-users btn-primary-form-users d-block mx-auto mt-3"> Select photo
            <input type="file" placeholder="file" hidden required>
          </label>
        </div>
        <section id="form-add-users">
          <div class="row col-md-10 offset-md-1 font-color-form-users">
            <div class="group-control col-md-6 col-12 mt-4">
              <label class="langlao mg-name" for="">ຊື່ຕູ້ນ້ຳກ້ອນ *</label>
              <input class="form-control langlao" type="text" [value]="_selectedDevice.name" (input)="_selectedDevice.name=$event.target.value">
            </div>
            <div class="group-control col-md-6 col-12 mt-4">
              <label class="langlao mg-name" for="">ເລກ IMEI *</label>
              <input class="form-control cursor-not-allowed" type="text" [value]="_selectedDevice.imei" (input)="_selectedDevice.imei=$event.target.value"
                disabled>
            </div>
            <div class="group-control col-md-6 col-12 mt-4">
              <label class="langlao mg-name" for="">ຊື່ຜູ້ໃຊ້ *</label>
              <input class="form-control langlao cursor-not-allowed" type="text" [value]="_selectedDevice.currentownername" (input)="_selectedDevice.currentownername=$event.target.value"
                disabled>
            </div>
            <div class="group-control col-md-6 col-12 mt-4">
              <label class="langlao mg-name" for="">ເບີໂທລະສັບ *</label>
              <input class="form-control" type="text" [value]="_selectedDevice.phonenumber" (input)="_selectedDevice.phonenumber=$event.target.value">
            </div>
            <div class="group-control col-md-6 col-12 mt-4">
              <label class="langlao mg-name" for="">Status *</label>
              <div class="form-group form-control">
                <label class="m-0" for="">Active *</label>
                <input class="ml-3 checked-box-size" type="checkbox" [checked]="_selectedDevice.isactive" (change)="_selectedDevice.isactive=$event.target.checked">
              </div>
            </div>
            <div class="group-control col-12 mt-4">
              <label class="langlao mg-name" for="">ໝາຍເຫດ *</label>
              <input class="form-control langlao" type="text" [value]="_selectedDevice.description" (input)="_selectedDevice.description=$event.target.value">
            </div>
            <div class="group-control col-12 mt-4">
              <label class="langlao mg-name" for="">Other *</label>
              <input class="form-control langlao" type="text" [value]="_selectedDevice.other" (input)="_selectedDevice.other=$event.target.value">
            </div>
            <div class="group-control col-12 mt-4 d-flex justify-content-center">
              <button class="col-md-4 mg-btn col-6 btn btn-primary-form-users langlao" type="submit" (click)="updateDevice()">
                <i class="far fa-check-square mr-1"></i>ອັບເດດ</button>
              <button class="col-md-4 mg-btn col-6 btn btn-danger-form-users langlao" type="reset">
                <i class="fas fa-redo mr-1"></i>ຍົກເລີກ</button>
            </div>
          </div>
        </section>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-light" (click)="c('Close click')">Close</button>
    </div>
  </ng-template>
  <!-- <button class="btn btn-outline-success mb-2 mr-2" (click)="Show_update_details(Alert_update_details)"><i class="fas fa-plus-circle mr-1"></i>info</button>   -->
</div>